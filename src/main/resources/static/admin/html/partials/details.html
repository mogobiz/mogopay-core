<header ng-include src="'partials/header.html'"></header>
<div class="details">
	<div ng-if="selectedCustomer != null" class="panel panel-default">
		<div class="panel-heading"><h3 class="panel-title">Customer Details</h3></div>
		<div class="panel-body">
			<form role="form" class="form-horizontal">
				<div class="form-group" style="margin-bottom: 0px;">
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerName">First Name</label>
						<input type="text" class="form-control" id="detailsCustomerName" autofocus readonly value="{{selectedCustomer.firstName}}"/>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerName">Last Name</label>
						<input type="text" class="form-control" id="detailsCustomerName" autofocus readonly value="{{selectedCustomer.lastName}}"/>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerEmail">Email</label>
						<input type="email" class="form-control" id="detailsCustomerEmail" readonly value="{{selectedCustomer.email}}"/>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerBirthdate">Birth Date</label>
						<input type="email" class="form-control" id="detailsCustomerBirthdate" readonly value="{{selectedCustomer.birthDate | date:'dd/MM/yyyy'}}"/>
					</div>
				</div>
				<div class="form-group" style="margin-bottom: 0px;">
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerPhone">Phone</label>
						<input type="email" class="form-control" id="detailsCustomerBirthdate" readonly value="{{selectedCustomer.address.telephone.phone}}"/>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerPhone">Country</label>
						<input type="email" class="form-control" id="detailsCustomerBirthdate" readonly value="{{selectedCustomer.address.country}}"/>
					</div>
					<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="padding:0px 5px; margin-bottom: 15px;">
						<label for="detailsCustomerPhone">Address</label>
						<input type="email" class="form-control" id="detailsCustomerBirthdate" readonly value="{{selectedCustomer.address.city}}, {{selectedCustomer.address.zipCode}}, {{selectedCustomer.address.road}}"/>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div ng-if="selectedCustomer != null" class="history panel panel-default">
		<div class="panel-heading"><h3 class="panel-title">History</h3></div>
		<div class="panel-body">
			<div class="table-responsive" ng-show="detailsHistory.length > 0">
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Id</th>
							<th>Name</th>
							<th>Email</th>
							<th>Date</th>
							<th>Price</th>
							<th>Card</th>
							<th>Transaction Status</th>
							<th>Delivery Status</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="detail in detailsHistory">
							<td>
								<a ng-if="selectedOrder.uuid != detail.uuid" href="javascript:void(0);" ng-click="detailsSelectOrder($index);">{{detail.uuid}}</a>
								<span ng-if="selectedOrder.uuid == detail.uuid">{{detail.uuid}}</span>
							</td>
							<td>{{detail.customer.firstName}}</td>
							<td>{{detail.customer.email}}</td>
							<td>{{detail.transactionDate | date:'dd/MM/yyyy'}}</td>
							<td>{{detail.currency.code}} {{detail.amount * detail.currency.rate}}</td>
							<td>
								<a href="javascript:void(0)" rel="popoverCard">{{detail.creditCard.number}}</a>
								<div ng-if="detail.creditCard != null" class="dialog" style="display:none;" ng-init="refreshCardPopover()">
									<div class="row">
										<label class="col-xs-5 col-sm-5 col-md-5 col-lg-5" >Card Number:</label>
										<label class="col-xs-7 col-sm-7 col-md-7 col-lg-7">{{detail.creditCard.number}}</label>
									</div>
									<div class="row">
										<label class="col-xs-5 col-sm-5 col-md-5 col-lg-5">Holder:</label>
										<label class="col-xs-7 col-sm-7 col-md-7 col-lg-7">{{detail.creditCard.holder}}</label>
									</div>
									<div class="row">
										<label class="col-xs-5 col-sm-5 col-md-5 col-lg-5"> Expiration Date:</label>
										<label class="col-xs-7 col-sm-7 col-md-7 col-lg-7">{{detail.creditCard.expiryDate | date:'dd/MM/yyyy'}}</label>
									</div>
									<div class="row">
										<label class="col-xs-5 col-sm-5 col-md-5 col-lg-5">Card Type:</label>
										<label class="col-xs-7 col-sm-7 col-md-7 col-lg-7">{{detail.creditCard.cardType}}</label>
									</div>
								</div>
							</td>
							<td>{{detail.status}}</td>
							<td>{{detail.deliveryStatus[0]}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="panel panel-default" ng-if="selectedOrder != null">
		<div class="panel-heading"><h3 class="panel-title">Order Details</h3></div>
		<div class="panel-body">
			<div class="form-group" style="margin-bottom: 0px;">
				<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
					<label for="cartDetailsStatus">Status</label>
					<input type="text" class="form-control" id="cartDetailsStatus" autofocus readonly value="{{cartDetails.status}}"/>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
					<label for="cartDetailsPrice">Price</label>
					<input type="text" class="form-control" id="cartDetailsPrice" autofocus readonly value="{{cartDetails.price * cartDetails.currencyRate}}"/>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
					<label for="cartDetailsCurrency">Currency</label>
					<input type="email" class="form-control" id="cartDetailsCurrency" readonly value="{{cartDetails.currencyCode}}"/>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding:0px 5px; margin-bottom: 15px;">
					<label for="cartDetailsDate">Date</label>
					<input type="email" class="form-control" id="cartDetailsDate" readonly value="{{cartDetails.lastUpdated | date:'dd/MM/yyyy'}}"/>
				</div>
			</div>
			<div class="clearfix"></div>
			<div class="table-responsive" ng-show="cartDetails.cartItems.length > 0">
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Name</th>
							<th>Basic Price</th>
							<th>End Price</th>
							<th>Quantity</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in cartDetails.cartItems">
							<td>
								<div ng-if="item.bOProducts.length == 1">
									{{item.bOProducts[0].product.name}}/({{item.sku.sku}})
								</div>
								<div ng-if="item.bOProducts.length > 1">
									<a href="javascript:void(0)" rel="popoverProduts">{{item.bOProducts[0].product.name}}/({{item.sku.sku}})</a>
									<div class="dialog" style="display:none;" ng-init="refreshProductsPopover()">
										<div ng-repeat="product in item.bOProducts" style="padding: 5px;">{{product.product.name}}</div>
										<div ng-repeat="product in item.bOProducts" style="padding: 5px;">{{product.product.name}}</div>
										<div ng-repeat="product in item.bOProducts" style="padding: 5px;">{{product.product.name}}</div>
										<div ng-repeat="product in item.bOProducts" style="padding: 5px;">{{product.product.name}}</div>
									</div>
								</div>
							</td>
							<td>{{item.totalPrice * cartDetails.currencyRate}}</td>
							<td>{{item.totalEndPrice * cartDetails.currencyRate}}</td>
							<td>{{item.quantity}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>